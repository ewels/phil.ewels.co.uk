---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PageTitle from "../../components/PageTitle.astro";
import HorizontalCard from "../../components/HorizontalCard.astro";

const posts = (await Astro.glob("./*.{md,mdx}")).sort(
  (a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
---

<BaseLayout title="Publications">
  <PageTitle>Publications</PageTitle>
  {
    posts.map((post) => (
      <>
        <HorizontalCard
          title={post.frontmatter.title}
          img={post.frontmatter.heroImage}
          desc={post.frontmatter.description}
          url={post.url}
        />
      </>
    ))
  }
</BaseLayout>
